<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 ,user-scalable=no">
    <title>shop-mart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="common.js"></script>
    <script>

        //data
        window.onload = function () {
            let url = new URL(location.href);
            let data = JSON.parse(url.searchParams.get('data'));
            setItemMap(data);
            initData()
        }

        function initData() {

            for (const [key, value] of Object.entries(itemMap)) {
                //沒有不顯示
                // 
                const quantity = parseInt(itemMap[`${key}`]["quantity"]);
                if (quantity > 0) {
                    // document.getElementById(`${key}`).style.display="block";

                    const quantityId = `${key}` + "-quantity";
                    const priceId = `${key}` + "-price";
                    const nameId = `${key}` + "-name";
                    const sizeId = `${key}` + "-size";

                    document.getElementById(nameId).innerHTML = itemMap[`${key}`]["name"];
                    document.getElementById(quantityId).innerHTML = itemMap[`${key}`]["quantity"];
                    document.getElementById(priceId).innerHTML = itemMap[`${key}`]["price"];
                    document.getElementById(sizeId).innerHTML = itemMap[`${key}`]["size"];

                } else {
                    document.getElementById(`${key}`).style.display = "none";
                }
            }
            document.getElementById("nextTrue").style.display = "none";
            document.getElementById("nextFalse").style.display = "block";

            calculateTotal("confirm");
        }

        function confirm() {
            alert("🎉 Order completed ! 🎉 ")
        }

    </script>
</head>

<body>
    <div class="container mx-auto px-4 flex flex-col">

        <nav>
            <a href="#">
                <h1 class="text-2xl font-bold mt-2" onclick="location.href='./index.html';">
                    Hanns Speer
                </h1>
            </a>
        </nav>

        <hr class="my-4">

        <div class="title">


            <h2 class="text-4xl font-bold">Order List</h2>
            <h3 class="text-[#888888] mt-2 my-4">
                Table 01
            </h3>
        </div>

        <div class="Item">
            <div class="overflow-auto">
                <!-- 產品A -->
                <div id="itemA" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <!-- <div class="bg-indigo-200 h-24 w-24 rounded-3xl"></div> -->
                        <img src="./imgs/kiwi.png" alt="kiwi">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemA-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemA-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemA-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32 ">
                        <button id="itemA-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemA','delete', 'confirm')">-</button>
                        <div id="itemA-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemA-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemA','add', 'confirm')">+</button>
                    </div>
                </div>


                <!-- 產品B -->
                <div id="itemB" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <img src="./imgs/mango.png" alt="mango">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemB-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemB-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemB-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32">
                        <button id="itemB-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemB','delete', 'confirm')">-</button>
                        <div id="itemB-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemB-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemB','add', 'confirm')">+</button>
                    </div>
                </div>
                <!-- 產品C -->
                <div id="itemC" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <img src="./imgs/kiwi.png" alt="kiwi">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemC-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemC-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemC-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32">
                        <button id="itemC-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemC','delete', 'confirm')">-</button>
                        <div id="itemC-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemC-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemC','add', 'confirm')">+</button>
                    </div>
                </div>

                <!-- 產品D -->
                <div id="itemD" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <img src="./imgs/berry.png" alt="kiwi">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemD-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemD-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemD-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32 ">
                        <button id="itemD-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemD','delete', 'confirm')">-</button>
                        <div id="itemD-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemD-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemD','add', 'confirm')">+</button>
                    </div>
                </div>


                <!-- 產品E -->
                <div id="itemE" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <img src="./imgs/peaSoup.png" alt="kiwi">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemE-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemE-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemE-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32">
                        <button id="itemE-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemE','delete', 'confirm')">-</button>
                        <div id="itemE-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemE-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemE','add', 'confirm')">+</button>
                    </div>
                </div>

                <!-- 產品F -->
                <div id="itemF" class="box grid grid-cols-3 py-2 flex">
                    <div class="picture ">
                        <img src="./imgs/pancake.png" alt="kiwi">
                    </div>
                    <div class="text col-span-2 ml-2 mt-1">
                        <div id="itemF-name" class="food-name text-2xl font-bold ">Orange Juice</div>
                        <div id="itemF-size" class="size"></div>
                        <div class="price text-[#ACB900]">
                            €
                            <span id="itemF-price" class=" text-2xl">0</span>
                        </div>
                    </div>
                    <div></div>
                    <div class="count grid grid-cols-3 flex w-32">
                        <button id="itemF-delete" class="button bg-[#CCCCCC] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemF','delete', 'confirm')">-</button>
                        <div id="itemF-quantity" class="text-center text-lg mt-1">0</div>
                        <button id="itemF-add" class="button bg-[#C2D100] w-[2.5rem] h-[2.5rem] rounded-lg"
                            onclick="calculateFunction('itemF','add', 'confirm')">+</button>
                    </div>
                </div>

            </div>
        </div>

        <hr class="my-4">


    </div>

    <footer class="bg-white p-4">
        <div class="text-xl ">
            <div>
                You have selected
                <span class="text-[#008A8A]">5</span>
                item
            </div>
            <div>
                Total
                <div class="price text-[#C2D100]">€
                    <span id="total" class="text-3xl">0</span>
                </div>
            </div>
        </div>
        <button id="nextTrue" class="bg-[#C2D100] text-white text-2xl w-full h-16 rounded-full my-4"
            onclick="confirm()">Check Out Now</button>
        <button id="nextFalse" class="bg-[#CCCCCC] text-white text-2xl w-full h-16 rounded-full my-4">Check Out
            Now</button>
    </footer>


    <script src="./index.js"></script>
</body>

</html>